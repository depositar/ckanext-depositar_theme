{%
  set guide_list = [
    {
      'title':_('Register and Upload'),
      'content':h.get_markdown(_('After registration, everyone can start to upload data. We support all file formats, as well as essential and standardized [metadata fields](https://docs.depositar.io/en/stable/appendix/fields/index.html) for time period, spatial range, Wikidata keyword, among others. With informatic dataset description and file preview, the deposited datasets are nicely presented.')),
      'video_name':'CreateUpload'
    },
    {
      'title':_('Manage and Share'),
      'content':h.get_markdown(_('Once a project is created, members can be added to the project. Project members are assigned different roles in data management. A project can manage multiple datasets. A dataset can be open to the public or remain private to project members. Projects and datasets all have unique URLs. Dataset citation snippets are automatically generated too.')),
      'video_name':'ManageShare'
    },
    {
      'title':_('Search and Preview'),
      'content':h.get_markdown(_('Datasets are filtered by spatiotemporal ranges, data types, keywords, and other conditions. Data can be previewed without being downloaded. Data previews can be embedded in web pages too. Dataset catalogs are published as linked data and indexed by [Google Dataset Search](https://datasetsearch.research.google.com/). Flexible APIs for access to data endpoints and structured data are provided.')),
      'video_name':'PreviewSearch'
    }
  ]
%}

<div class="idx guide">
  <div class="container">
    <div id="guideCarousel" class="guide carousel slide" data-bs-ride="carousel" data-bs-interval="10000">
      <div class="carousel-inner">
        {% for guide in guide_list %}
          {% if guide == guide_list[0] %}
            <div class="carousel-item active">
          {% else %}
            <div class="carousel-item">
          {% endif %}
            <div class="content">
              <h1>{{ guide.title }}</h1>
              <div>{{ guide.content }}</div>
            </div>
            <div class="guide-video">
              <video id="{{ guide.video_name }}" autoplay muted loop playsinline="true" class="video" alt="Guide Video"></video>
            </div>
          </div>
        {% endfor %}
      </div>
      <a class="carousel-control-prev" role="button" data-bs-target="#guideCarousel" data-bs-slide="prev">
        <i class="fa fa-chevron-left" aria-hidden="true"></i>
        <i class="visually-hidden">Previous</i>
      </a>
      <a class="carousel-control-next" role="button" data-bs-target="#guideCarousel" data-bs-slide="next">
        <i class="fa fa-chevron-right" aria-hidden="true"></i>
        <i class="visually-hidden">Next</i>
      </a>
      <div class="carousel-indicators">
        <button type="button" data-bs-target="#guideCarousel" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
        <button type="button" data-bs-target="#guideCarousel" data-bs-slide-to="1" aria-label="Slide 2"></button>
        <button type="button" data-bs-target="#guideCarousel" data-bs-slide-to="2" aria-label="Slide 3"></button>
      </div>
    </div>
  </div>
</div>
